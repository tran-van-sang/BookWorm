import{B as f}from"./book.service.5014a609.js";import{_ as C,u as B,o as r,c as l,a as e,h as c,k as _,G as m,F as g,i as p,n as v,e as b,H as x,t as y,I as S,p as P,g as T}from"./index.8fa78d2c.js";import{b as N}from"./bootstrap.eb4493a3.js";const I={setup(){return{userStore:B()}},data(){return{books:[],category:""}},watch:{$route(t,a){this.retrieveBooks()}},computed:{numPageCurrent(){return this.$route.hash?this.$route.hash:""},showPageCurrent(){return this.numPageCurrent?parseInt(this.numPageCurrent.substr(5)):(this.$route.hash="#page1",1)},numPageOfBooks(){let t=[];const a=this.books.length;for(let h=0;h<a;h++)t.push(h+1);return t}},methods:{async retrieveBooks(){try{this.books=await f.getData(this.$route.fullPath.slice(9))}catch(t){console.log(t)}},formatter(t){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t)},goDetailItem(t){this.$router.push({name:"book.detail",params:{id:t}})},async filterBooks(){await this.$router.push({name:"book.list",query:{category:this.category}}),this.books=await f.getData(this.$route.fullPath.slice(9))},showNotify(){const t=document.getElementById("liveToast");new N.Toast(t).show()},addToCart(t){this.userStore.addToCart({book_id:t._id,quantity:1,price:t.price,title:t.title,image:t.image[0]}),this.showNotify()}},created(){this.retrieveBooks()}},d=t=>(P("data-v-949b3e2e"),t=t(),T(),t),V={class:"container-fluid"},D={class:"row"},K={class:"col-lg-3"},L={class:"container"},U={id:"content",class:""},O={id:"filterbar",class:""},E={class:"box border-bottom"},F=d(()=>e("div",{class:"box-label text-uppercase d-flex align-items-center"},"Th\u1EC3 Lo\u1EA1i S\xE1ch",-1)),G={id:"inner-box",class:"mt-2 mr-1"},q={class:"my-1"},z={class:"tick"},M=d(()=>e("span",{class:"check"},null,-1)),A={class:"my-1"},H={class:"tick"},R=d(()=>e("span",{class:"check"},null,-1)),j={class:"my-1"},J={class:"tick"},Q=d(()=>e("span",{class:"check"},null,-1)),W={class:"my-1"},X={class:"tick"},Y=d(()=>e("span",{class:"check"},null,-1)),Z={class:"col-lg-9"},$=d(()=>e("div",{class:"toast-container position-fixed bottom-0 end-0 p-3"},[e("div",{id:"liveToast",class:"toast align-items-center border-1",role:"alert","aria-live":"assertive","aria-atomic":"true"},[e("div",{class:"d-flex"},[e("div",{class:"toast-body notify-success"}," Th\xEAm v\xE0o gi\u1ECF h\xE0ng th\xE0nh c\xF4ng ! "),e("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"})])])],-1)),ee={key:0},te=["id"],se=["onClick"],oe={class:"img-box"},ae=["src"],ie={class:"thumb-content"},re=["title"],le={class:"item-price"},ce=["onClick"],ne={"aria-label":"Page of Books"},de={class:"pagination"},he=["href"],ue=["href"],_e={key:0,class:"sr-only"},me=["href"];function ge(t,a,h,pe,i,o){return r(),l("div",V,[e("div",D,[e("div",K,[e("div",L,[e("div",U,[e("div",O,[e("div",E,[F,e("div",G,[e("div",q,[e("label",z,[c(" S\xE1ch Gi\xE1o Khoa - Tham Kh\u1EA3o"),_(e("input",{value:"S\xE1ch Gi\xE1o Khoa - Tham Kh\u1EA3o",type:"radio","onUpdate:modelValue":a[0]||(a[0]=s=>i.category=s)},null,512),[[m,i.category]]),M])]),e("div",A,[e("label",H,[c("S\xE1ch Thi\u1EBFu Nhi "),_(e("input",{value:"S\xE1ch Thi\u1EBFu Nhi",type:"radio","onUpdate:modelValue":a[1]||(a[1]=s=>i.category=s)},null,512),[[m,i.category]]),c(),R])]),e("div",j,[e("label",J,[c("S\xE1ch K\u0129 N\u0103ng "),_(e("input",{value:"S\xE1ch K\u0129 N\u0103ng",type:"radio","onUpdate:modelValue":a[2]||(a[2]=s=>i.category=s)},null,512),[[m,i.category]]),c(),Q])]),e("div",W,[e("label",X,[c("T\u1EA5t C\u1EA3 "),_(e("input",{value:"all",type:"radio","onUpdate:modelValue":a[3]||(a[3]=s=>i.category=s)},null,512),[[m,i.category]]),c(),Y])]),e("input",{type:"button",class:"btn-filter",value:"\xC1p d\u1EE5ng",onClick:a[4]||(a[4]=(...s)=>o.filterBooks&&o.filterBooks(...s))})])])])])])]),e("div",Z,[$,i.books[0]?(r(),l("div",ee,[(r(!0),l(g,null,p(o.numPageOfBooks,(s,u)=>(r(),l("div",{key:u,class:"row row-cols-1 row-cols-md-3",id:"page"+s,style:x({display:s!==o.showPageCurrent?"none":"inline-flex"})},[(r(!0),l(g,null,p(i.books[u],(n,k)=>(r(),l("div",{class:"col mb-4",key:k},[e("div",{class:"thumb-wrapper",onClick:w=>o.goDetailItem(n._id)},[e("div",oe,[e("img",{src:n.image[0],class:"img-fluid"},null,8,ae)]),e("div",ie,[e("h4",{title:n.title},y(n.title),9,re),e("p",le,y(o.formatter(n.price)),1),e("button",{href:"#",class:"btn btn-primary",onClick:S(w=>o.addToCart(n),["stop"])},"Add to Cart",8,ce)])],8,se)]))),128))],12,te))),128)),e("nav",ne,[e("ul",de,[e("li",{class:v(["page-item",{disabled:o.showPageCurrent===1}])},[e("a",{class:"page-link",href:"#page"+(o.showPageCurrent-1),tabindex:"-1","aria-disabled":"true"},"Previous",8,he)],2),(r(!0),l(g,null,p(o.numPageOfBooks,(s,u)=>(r(),l("li",{key:u,class:v(["page-item",{active:s===o.showPageCurrent}]),"aria-current":"page"},[e("a",{class:"page-link",href:"#page"+s},[c(y(s)+" ",1),s===o.showPageCurrent?(r(),l("span",_e,"(current)")):b("",!0)],8,ue)],2))),128)),e("li",{class:v(["page-item",{disabled:o.numPageOfBooks.length===o.showPageCurrent}])},[e("a",{class:"page-link",href:"#page"+(o.showPageCurrent+1)},"Next",8,me)],2)])])])):b("",!0)])])])}const be=C(I,[["render",ge],["__scopeId","data-v-949b3e2e"]]);export{be as default};
